---
import ArrowLeftIcon from '../../components/ArrowLeftIcon.astro';
import BaseLayout from '../../layout/BaseLayout.astro'

const { page } = Astro.params
const res = await fetch(`https://restcountries.com/v3.1/alpha/${page}`)
const data = await res.json()
---

<BaseLayout title={`${data[0].name.common} Countrie Details`}>
    <div class="grid gap-2 mt-8 px-4">
        <button class="flex items-center gap-2" id="btn-back">
            <ArrowLeftIcon customClass="w-4 h-4" />
            Back
        </button>
        <h1>{data[0].name.common}</h1>
    </div>
</BaseLayout>

<script>
    const btn = document.querySelector("#btn-back")

    btn?.addEventListener("click", () => history.back())
</script>